{% extends 'main.html' %}
{% load static %}

{%block head%}
<title>ì•„ì´ë””ì–´ ë¦¬ìŠ¤íŠ¸</title>
{%endblock%}

{%block content%}
<div class="content-wrapper">
  <h1 class="page_title">Idea List</h1>
  <p class="page_info">ë‚˜ì˜ ì•„ì´ë””ì–´ë¥¼ ìŠì§€ ë§ê³  ê¸°ë¡í•´ë³´ì„¸ìš”</p>
  <div class="sort_menu">
    <form method="get" action=".">
      <label for="sort_by">ì •ë ¬ ê¸°ì¤€:</label>
      <select id="sort_by" name="sort_by">
          <option value="title" {% if sort_by == 'title' or sort_by == '-title' %}selected{% endif %}>ì œëª©</option>
          <option value="interest" {% if sort_by == 'interest' or sort_by == '-interest' %}selected{% endif %}>ê´€ì‹¬ë„</option>
          <option value="devtool" {% if sort_by == 'devtool' or sort_by == '-devtool' %}selected{% endif %}>ê°œë°œíˆ´</option>
          <option value="bookmark" {% if sort_by == 'bookmark' or sort_by == '-bookmark' %}selected{% endif %}>ì°œ ì—¬ë¶€</option>
      </select>
      <button type="submit" name="order" value="asc"> ğŸ”¼ </button>
      <button type="submit" name="order" value="desc"> ğŸ”½ </button>
    </form>
  </div>
  <div class="ideas">
    {% for idea in page_obj %}
    <div class="idea">
      <div id="thumbnail">
        {% if idea.image %}
        <img src="{{ idea.image.url }}" alt="{{ idea.title }}">
        {% else %}
        <img src="{% static 'images/no_image.png' %}" alt="{{ idea.title }}">
        {% endif %}
        <div id="bookmark">
          {% if idea.bookmark %}
          <img src="{% static 'images/star-fill.svg' %}" alt="ë¶ë§ˆí¬ í‘œì‹œë¨" class="bookmark-icon">
          {% else %}
          <img src="{% static 'images/star.svg' %}" alt="ë¶ë§ˆí¬ í•´ì œë¨" class="bookmark-icon">
          {% endif %}
        </div>
      </div>
      <a href="{% url 'ideas:detail' idea.id %}" class="btn btn-outline-secondary">{{ idea.title }}</a>
      <p>ì˜ˆìƒ ê°œë°œ íˆ´: {{ idea.devtool }}</p>
      <p>
        ì•„ì´ë””ì–´ ê´€ì‹¬ë„: 
        <button class="interest_button">-</button>
          <span id="interest-{{ idea.id }}">{{ idea.interest }}</span>
        <button class="interest_button">+</button>
      </p>
    </div>
    {% endfor %}
  </div>
  <div class="pagination">
    <span class="step-links">
      {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}">&lt;</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
          {% if page_obj.number == num %}
              <strong>{{ num }}</strong>
          {% else %}
              <a href="?page={{ num }}">{{ num }}</a>
          {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}">&gt;</a>
      {% endif %}
    </span>
  </div>

{%endblock%}
