{% extends 'base.html' %}

{% block title %}ë¦¬ë·° ëª©ë¡{% endblock %}

{% block content %}
<div class="review-sort">
    <form method="get" action=".">
        <label for="sort_by">ì •ë ¬ ê¸°ì¤€:</label>
        <select id="sort_by" name="sort_by">
            <option value="title" {% if sort_by == 'title' or sort_by == '-title' %}selected{% endif %}>ì œëª©</option>
            <option value="rating" {% if sort_by == 'rating' or sort_by == '-rating' %}selected{% endif %}>ë³„ì </option>
            <option value="running_time" {% if sort_by == 'running_time' or sort_by == '-running_time' %}selected{% endif %}>ìƒì˜ ì‹œê°„</option>
        </select>
        <button type="submit" name="order" value="asc">
            ğŸ”¼
        </button>
        <button type="submit" name="order" value="desc">
            ğŸ”½
        </button>
    </form>
</div>

<ul class="review-container">
    {% for review in reviews %}
        <li class="review">
            <div id="poster-container">
                {% if review.poster %}
                    <img src="{{ review.poster.url }}" alt="{{ review.title }} poster" class="poster">
                {% else %}
                    <div class="no-poster">No Poster</div>
                {% endif %}
            </div>
            <div id="movieinfo-container">
                <a href="{{review.id}}" id="movie-title">{{ review.title }}</a> 
                <div class="movieinfo">ê°œë´‰ë…„ë„: {{ review.release_year }}</div>
                <div class="movieinfo">ì¥ë¥´: {{review.genre}}</div>
                <div class="movieinfo">ë³„ì : {{review.rating}} / 10</div>
            </div>
        </li>
    {% endfor %}
</ul>
{% endblock %}